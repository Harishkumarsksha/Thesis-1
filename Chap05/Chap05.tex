\chapter{Current Measurement For SoC Estimation}\label{ch:Current_Measurement}
SoC is the most crucial parameter of the battery to estimate in the BMS. In the deal case, the SoC of the battery has to be measured continuously, well which is not feasible since we have a measuring setup (sensors ) we need to discretize the time and, measure how much current flows through the battery to estimate the soc. To be precise in the current measure to estimate battery soc we need to account for all currents that flow in and outwards from the battery. In the active balancing setup, we have a minimum of three currents that need to be synchronized to estimate the battery soc, DC/DC converter input and output currents, and battery pack charging and discharging current. In an integrated circuit solution current measuring is very easy by designing all the sensors operating with a master clock and reading by an internal bus. Since the project is at a discrete solution level we have several current sensors associated with reading the currents. The following sections elaborate on a competitive solution for current reading and its usage in the project.
\input{Chap05/Chap05_CurrentSensing}
\input{Chap05/Chap05_CurrentReadingSynchronization}

\section{Summery of Chapter \ref{ch:Current_Measurement}}

Chapter \ref{ch:Current_Measurement} provided me an opportunity to explore different kinds of current measuring sensors for the BMS application and synchronize current measurements, after a deep analysis finally we landed with INA2xx series sensors. In section \ref{sec:INA238}, I took the advantage of explaining deeply about the current sensor, because most of the measurements and decisions are taken by the controller depend on the current sensor during the balancing for instance balancing current, balancing node voltage, balancing current thresholds, bus voltage threshold, and so on. INA current sensor ALERT signal configuration gave an extensive chance to explore the synchronization of the current measurement estimating the battery SoC. Battery balancing current results (Figure \ref{fig:Battery_Balancing_Current}) measured through the power analyzer model will interpolate the BMS architecture discussed in chapter \ref{ch:Architecture_Active_Balancing_BMS} to the Powel Analyzer architecture in chapter 4. This chapter can also become the fundamental pillar for chapter 5 to estimate the SOC with several algorithms (synchronization with Delayed Measurements and Parallel Wite; Sequential Read).